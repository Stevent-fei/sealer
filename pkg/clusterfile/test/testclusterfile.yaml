apiVersion: sealer.cloud/v2
kind: Cluster
metadata:
  creationTimestamp: null
  name: default-kubernetes-cluster
spec:
  env:
  hosts:
    - ips:
        - 192.168.0.2
        - 192.168.0.3
        - 192.168.0.4
      roles:
        - master
      ssh: { }
    - ips:
        - 192.168.0.5
      roles:
        - node
      ssh: { }
  image: test
  ssh:
    passwd: Seadent123
status: { }
---
apiVersion: sealer.com/v1alpha1
kind: Config
metadata:
  name: mysql-config
spec:
  path: etc/mysql.yaml
  data: |
    mysql-user: root
    mysql-passwd: xxx
---
apiVersion: sealer.aliyun.com/v1alpha1
kind: Plugin
metadata:
  name: MyHostname # Specify this plugin name,will dump in $rootfs/plugins dir.
spec:
  type: HOSTNAME # fixed string,should not change this name.
  action: PreInit # Specify which phase to run.
  data: |
    192.168.0.2 master-0
---
apiVersion: kubeadm.k8s.io/v1beta2
kind: InitConfiguration
localAPIEndpoint:
  bindPort: 6443
nodeRegistration:
  criSocket: /var/run/dockershim.sock